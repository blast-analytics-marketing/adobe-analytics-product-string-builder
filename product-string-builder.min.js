//Minimized BlastAM Product String Builder Code
//This code has been thoroughly tested, but you'll want to do your own testing. You take full responsibility for its use. -- BlastAM
Number.isNaN=Number.isNaN||function(e){return"number"==typeof e&&isNaN(e)},s.buildProducts=function(e,t){var n="";return""!=e&&(n+=","),""!==t.totalQuantity&&""!=t.totalPrice?n+=";"+t.sku+";"+t.totalQuantity+";"+t.totalPrice:Object.keys(t.evars).length||Object.keys(t.events).length?n+=";"+t.sku+";;":n+=";"+t.sku,n+=s.buildMerchEvents(t.events),n+=s.buildMerchEvars(n,t.evars)},s.buildMerchEvents=function(e){var t=";",n=0;if(0==Object.keys(e).length)return"";for(key in e)0<n&&(t+="|"),t+=key+"="+e[key],n++;return t},s.buildMerchEvars=function(e,t){var n=";",i=0;if(e=e.toLowerCase(),0==Object.keys(t).length)return"";for(key in-1==e.indexOf("event")&&(n+=";"),t)0<i&&(n+="|"),n+=key+"="+t[key],i++;return n},s.oProduct=function(e,t,n,i,s){this.sku=void 0!==e&&""!==e?e:"",this.totalQuantity=void 0!==t&&""!==t?t:"",this.totalPrice=void 0===n||""===n||Number.isNaN(n)||void 0===t||""===t?"":n*t,this.evars=void 0!==i&&""!==i?i:{},this.events=void 0!==s&&""!==s?s:{},this.add=function(e,t){null!=typeof t&&null!=t&&"undefined"!=t&&"null"!=t&&(-1<(e=e.toLowerCase()).indexOf("evar")?this.evars[e]=t:-1<e.indexOf("event")&&(this.events[e]=t))}};
